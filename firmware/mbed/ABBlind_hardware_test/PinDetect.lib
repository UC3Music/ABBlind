http://developer.mbed.org/users/xeta05/code/PinDetect/#cb6051b90a52
